"use strict";(self.webpackChunkswr_concept=self.webpackChunkswr_concept||[]).push([[738,615],{2738:function(n,e,r){r.r(e),r.d(e,{default:function(){return a}});var t=r(4408),i=r(8615),s=r(3517),u=(r(2791),r(184));function a(){return(0,u.jsxs)(i.default,{children:[(0,u.jsx)(s.Z,{tag:"h1",children:"Settings"}),(0,u.jsx)(t.Z,{})]})}},4408:function(n,e,r){r.d(e,{Z:function(){return f}});var t=r(5861),i=r(885),s=r(7757),u=r.n(s),a=r(6403),c=r(8835),o=r(2791),l=r(1426),d=r(184);function f(){var n=(0,c.Z)().user,e=(0,l.kY)().mutate,r=(0,o.useState)(n.name),s=(0,i.Z)(r,2),f=s[0],h=s[1],x=(0,o.useState)(n.email),p=(0,i.Z)(x,2),v=p[0],Z=p[1],j=(0,o.useState)(!1),m=(0,i.Z)(j,2),g=m[0],w=m[1],b=function(){var r=(0,t.Z)(u().mark((function r(t){var i,s;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),w(!0),i={id:n.id,name:f,email:v},r.next=5,(0,a.Z)("PATCH","/api/users",i);case 5:s=r.sent,e("/api/auth",{user:s},!1),w(!1);case 8:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}();return(0,d.jsxs)("form",{onSubmit:b,children:[(0,d.jsx)("label",{children:"Name: "}),(0,d.jsx)("input",{type:"text",value:f,onChange:function(n){return h(n.target.value)}}),(0,d.jsx)("label",{children:"Email: "}),(0,d.jsx)("input",{type:"text",value:v,onChange:function(n){return Z(n.target.value)}}),(0,d.jsx)("p",{children:(0,d.jsx)("input",{type:"submit",disabled:g,value:g?"Loading":"Apply"})})]})}},5379:function(n,e,r){r.d(e,{Z:function(){return v}});var t=r(5861),i=r(885),s=r(7757),u=r.n(s),a=r(8835),c=r(6959),o=r(2791),l=r(6871),d=r(1426),f=r(6403),h=r(8277),x=r(3517),p=r(184);function v(n){var e=n.sidebar,r=n.children,s=(0,a.Z)(),v=(0,l.s0)(),Z=(0,d.kY)().mutate,j=o.useState(!1),m=(0,i.Z)(j,2),g=m[0],w=m[1];if(g)return(0,p.jsx)(h.Z,{});var b=function(){var n=(0,t.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return w(!0),n.next=3,(0,f.Z)("POST","/api/auth",{role:null});case 3:return n.next=5,Z("/api/auth",{user:null},!1);case 5:v(c.Z.login());case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,p.jsxs)("div",{className:"base-layout",children:[(0,p.jsxs)("div",{className:"base-layout__sidebar",children:[(0,p.jsx)("div",{children:e}),(0,p.jsxs)("div",{children:[(0,p.jsxs)(x.Z,{tag:"span",children:[s.user.name," [",s.user.role,"]"]}),(0,p.jsx)("button",{onClick:b,children:"Logout"})]})]}),(0,p.jsx)("div",{className:"base-layout__content",children:r})]})}},8615:function(n,e,r){r.r(e),r.d(e,{default:function(){return l}});var t=r(6308),i=r(2821),s=r(6959),u=(r(2791),r(3504)),a=r(5379),c=r(3517),o=r(184);function l(n){var e=n.children,r=(0,i.Z)(),l=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.Z,{color:"white",children:(0,o.jsx)(u.rU,{to:s.Z.home(),children:"Home"})}),(0,o.jsx)(c.Z,{color:"white",children:(0,o.jsxs)(u.rU,{to:s.Z.messages(),children:["Messages",r?(0,o.jsx)(t.Z,{children:r}):null]})}),(0,o.jsx)(c.Z,{color:"white",children:(0,o.jsx)(u.rU,{to:s.Z.clients(),children:"Clients"})}),(0,o.jsx)(c.Z,{color:"white",children:(0,o.jsx)(u.rU,{to:s.Z.settings(),children:"Settings"})})]});return(0,o.jsx)(a.Z,{sidebar:l,children:e})}},6308:function(n,e,r){r.d(e,{Z:function(){return i}});r(2791);var t=r(184);function i(n){var e=n.children;return(0,t.jsx)("span",{className:"badge",children:e})}},8835:function(n,e,r){r.d(e,{Z:function(){return i}});var t=r(3340);function i(){var n=(0,t.Q)().currentAuth;if(!n.user)throw new Error("User not loaded");return{user:n.user}}},2821:function(n,e,r){r.d(e,{Z:function(){return i}});var t=r(2739);function i(){var n=function(){var n=(0,t.N)().notifications;if(!n)throw new Error("Notifications not loaded");return{notifications:n}}();return n.notifications.reduce((function(n,e){return n+=e.messageCount}),0)}}}]);
//# sourceMappingURL=738.bfbf14da.chunk.js.map
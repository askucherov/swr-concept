"use strict";(self.webpackChunkswr_concept=self.webpackChunkswr_concept||[]).push([[592,580],{2592:function(n,e,t){t.r(e),t.d(e,{default:function(){return c}});var r=t(4408),i=t(4580),s=t(1227),u=t(3517),a=(t(2791),t(184));function c(){return(0,a.jsxs)(i.default,{children:[(0,a.jsx)(s.Z,{}),(0,a.jsx)(u.Z,{tag:"h1",children:"Settings"}),(0,a.jsx)(r.Z,{})]})}},4408:function(n,e,t){t.d(e,{Z:function(){return f}});var r=t(5861),i=t(885),s=t(7757),u=t.n(s),a=t(6403),c=t(8835),o=t(2791),l=t(1426),d=t(184);function f(){var n=(0,c.Z)().user,e=(0,l.kY)().mutate,t=(0,o.useState)(n.name),s=(0,i.Z)(t,2),f=s[0],h=s[1],v=(0,o.useState)(n.email),x=(0,i.Z)(v,2),m=x[0],p=x[1],Z=(0,o.useState)(!1),j=(0,i.Z)(Z,2),g=j[0],w=j[1],_=function(){var t=(0,r.Z)(u().mark((function t(r){var i,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),w(!0),i={id:n.id,name:f,email:m},t.next=5,(0,a.Z)("PATCH","/api/users",i);case 5:s=t.sent,e("/api/auth",{user:s},!1),w(!1);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return(0,d.jsxs)("form",{onSubmit:_,children:[(0,d.jsx)("label",{children:"Name: "}),(0,d.jsx)("input",{type:"text",value:f,onChange:function(n){return h(n.target.value)}}),(0,d.jsx)("label",{children:"Email: "}),(0,d.jsx)("input",{type:"text",value:m,onChange:function(n){return p(n.target.value)}}),(0,d.jsx)("p",{children:(0,d.jsx)("input",{type:"submit",disabled:g,value:g?"Loading":"Apply"})})]})}},5379:function(n,e,t){t.d(e,{Z:function(){return m}});var r=t(5861),i=t(885),s=t(7757),u=t.n(s),a=t(8835),c=t(6959),o=t(2791),l=t(6871),d=t(1426),f=t(6403),h=t(8277),v=t(3517),x=t(184);function m(n){var e=n.sidebar,t=n.children,s=(0,a.Z)(),m=(0,l.s0)(),p=(0,d.kY)().mutate,Z=o.useState(!1),j=(0,i.Z)(Z,2),g=j[0],w=j[1];if(g)return(0,x.jsx)(h.Z,{});var _=function(){var n=(0,r.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return w(!0),n.next=3,(0,f.Z)("POST","/api/auth",{role:null});case 3:return n.next=5,p("/api/auth",{user:null},!1);case 5:m(c.Z.login());case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"base-layout",children:[(0,x.jsxs)("div",{className:"base-layout__sidebar",children:[(0,x.jsx)("div",{children:e}),(0,x.jsxs)("div",{children:[(0,x.jsxs)(v.Z,{tag:"span",children:[s.user.name," [",s.user.role,"]"]}),(0,x.jsx)("button",{onClick:_,children:"Logout"})]})]}),(0,x.jsx)("div",{className:"base-layout__content",children:t})]})}},4580:function(n,e,t){t.r(e),t.d(e,{default:function(){return l}});var r=t(6308),i=t(2821),s=t(6959),u=(t(2791),t(3504)),a=t(3517),c=t(5379),o=t(184);function l(n){var e=n.children,t=(0,i.Z)(),l=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.Z,{color:"white",children:(0,o.jsx)(u.rU,{to:s.Z.home(),children:"Home"})}),(0,o.jsx)(a.Z,{color:"white",children:(0,o.jsxs)(u.rU,{to:s.Z.messages(),children:["Messages",t?(0,o.jsx)(r.Z,{children:t}):null]})}),(0,o.jsx)(a.Z,{color:"white",children:(0,o.jsx)(u.rU,{to:s.Z.clients(),children:"Clients"})}),(0,o.jsx)(a.Z,{color:"white",children:(0,o.jsx)(u.rU,{to:s.Z.settings(),children:"Settings"})})]});return(0,o.jsx)(c.Z,{sidebar:l,children:e})}},1227:function(n,e,t){t.d(e,{Z:function(){return c}});var r=t(6871),i=t(6581);var s=t(6959),u=(t(2791),t(3504)),a=t(184);function c(){var n=function(){var n=(0,r.TH)(),e=i._.find((function(e){return!!(0,r.LX)(e.path,n.pathname)}));if(!e)throw new Error("Route not found");return e}(),e=n.id===i.E.settings,t=n.id===i.E.employees;return(0,a.jsxs)("div",{className:"settings-nav-menu",children:[(0,a.jsx)(u.rU,{className:"settings-nav-menu__item ".concat(e?"settings-nav-menu__item_active":""),to:s.Z.settings(),children:"Profile"}),(0,a.jsx)(u.rU,{className:"settings-nav-menu__item ".concat(t?"settings-nav-menu__item_active":""),to:s.Z.employees(),children:"Employees"})]})}},6308:function(n,e,t){t.d(e,{Z:function(){return i}});t(2791);var r=t(184);function i(n){var e=n.children;return(0,r.jsx)("span",{className:"badge",children:e})}},8835:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(3340);function i(){var n=(0,r.Q)().currentAuth;if(!n.user)throw new Error("User not loaded");return{user:n.user}}},2821:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(2739);function i(){var n=function(){var n=(0,r.N)().notifications;if(!n)throw new Error("Notifications not loaded");return{notifications:n}}();return n.notifications.reduce((function(n,e){return n+=e.messageCount}),0)}}}]);
//# sourceMappingURL=592.728f17c3.chunk.js.map
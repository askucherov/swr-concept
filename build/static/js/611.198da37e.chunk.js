"use strict";(self.webpackChunkswr_concept=self.webpackChunkswr_concept||[]).push([[611],{3611:function(n,e,t){t.r(e),t.d(e,{default:function(){return x}});var r=t(5861),i=t(885),u=t(7757),c=t.n(u),s=t(5576),a=t(2791),o=t(3517),l=t(8277),f=t(6403),d=t(1426),p=t(6871),h=t(184);function x(){var n=(0,s.l)(),e=n.users,t=void 0===e?[]:e,u=n.isValidating,x=(0,p.s0)(),j=(0,d.kY)().mutate,m=a.useState(!1),v=(0,i.Z)(m,2),g=v[0],k=v[1];if(g)return(0,h.jsx)(l.Z,{});var w=function(){var n=(0,r.Z)(c().mark((function n(e){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return k(!0),n.next=3,(0,f.Z)("POST","/api/auth",{role:e});case 3:return t=n.sent,n.next=6,j("/api/auth",t,!1);case 6:return n.next=8,j("/api/notifications");case 8:x("/");case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Z=t.find((function(n){return"client"===n.role})),b=t.find((function(n){return"employee"===n.role})),y=t.find((function(n){return"owner"===n.role}));return(0,h.jsxs)("div",{style:{textAlign:"center"},children:[(0,h.jsx)(o.Z,{tag:"h1",children:"Login:"}),Z&&b&&y&&!u?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{children:(0,h.jsxs)("button",{onClick:function(){return w("client")},children:[Z.name," [",Z.role,"]"]})}),(0,h.jsx)("p",{children:(0,h.jsxs)("button",{onClick:function(){return w("employee")},children:[b.name," [",b.role,"]"]})}),(0,h.jsx)("p",{children:(0,h.jsxs)("button",{onClick:function(){return w("owner")},children:[y.name," [",y.role,"]"]})})]}):"loading..."]})}},5576:function(n,e,t){t.d(e,{l:function(){return c}});var r=t(4245),i=t(1426),u=t(6403),c=function(n){var e=(0,i.ZP)("/api/users?".concat(r.stringify(n||{})),(function(n){return(0,u.Z)("GET",n)})),t=e.data,c=e.isValidating;return{mutate:e.mutate,users:t,isValidating:c}}}}]);
//# sourceMappingURL=611.198da37e.chunk.js.map
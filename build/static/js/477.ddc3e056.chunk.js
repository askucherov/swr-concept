"use strict";(self.webpackChunkswr_concept=self.webpackChunkswr_concept||[]).push([[477,824],{9477:function(n,e,r){r.r(e),r.d(e,{default:function(){return a}});var t=r(4408),i=r(8824),u=r(3517),s=(r(2791),r(184));function a(){return(0,s.jsxs)(i.default,{children:[(0,s.jsx)(u.Z,{tag:"h1",children:"Settings"}),(0,s.jsx)(t.Z,{})]})}},4408:function(n,e,r){r.d(e,{Z:function(){return f}});var t=r(5861),i=r(885),u=r(7757),s=r.n(u),a=r(6403),c=r(8835),o=r(2791),l=r(1426),d=r(184);function f(){var n=(0,c.Z)().user,e=(0,l.kY)().mutate,r=(0,o.useState)(n.name),u=(0,i.Z)(r,2),f=u[0],h=u[1],x=(0,o.useState)(n.email),p=(0,i.Z)(x,2),v=p[0],Z=p[1],j=(0,o.useState)(!1),m=(0,i.Z)(j,2),g=m[0],b=m[1],w=function(){var r=(0,t.Z)(s().mark((function r(t){var i,u;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),b(!0),i={id:n.id,name:f,email:v},r.next=5,(0,a.Z)("PATCH","/api/users",i);case 5:u=r.sent,e("/api/auth",{user:u},!1),b(!1);case 8:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}();return(0,d.jsxs)("form",{onSubmit:w,children:[(0,d.jsx)("label",{children:"Name: "}),(0,d.jsx)("input",{type:"text",value:f,onChange:function(n){return h(n.target.value)}}),(0,d.jsx)("label",{children:"Email: "}),(0,d.jsx)("input",{type:"text",value:v,onChange:function(n){return Z(n.target.value)}}),(0,d.jsx)("p",{children:(0,d.jsx)("input",{type:"submit",disabled:g,value:g?"Loading":"Apply"})})]})}},5379:function(n,e,r){r.d(e,{Z:function(){return v}});var t=r(5861),i=r(885),u=r(7757),s=r.n(u),a=r(8835),c=r(6959),o=r(2791),l=r(6871),d=r(1426),f=r(6403),h=r(8277),x=r(3517),p=r(184);function v(n){var e=n.sidebar,r=n.children,u=(0,a.Z)(),v=(0,l.s0)(),Z=(0,d.kY)().mutate,j=o.useState(!1),m=(0,i.Z)(j,2),g=m[0],b=m[1];if(g)return(0,p.jsx)(h.Z,{});var w=function(){var n=(0,t.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b(!0),n.next=3,(0,f.Z)("POST","/api/auth",{role:null});case 3:return n.next=5,Z("/api/auth",{user:null},!1);case 5:v(c.Z.login());case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,p.jsxs)("div",{className:"base-layout",children:[(0,p.jsxs)("div",{className:"base-layout__sidebar",children:[(0,p.jsx)("div",{children:e}),(0,p.jsxs)("div",{children:[(0,p.jsxs)(x.Z,{tag:"span",children:[u.user.name," [",u.user.role,"]"]}),(0,p.jsx)("button",{onClick:w,children:"Logout"})]})]}),(0,p.jsx)("div",{className:"base-layout__content",children:r})]})}},8824:function(n,e,r){r.r(e),r.d(e,{default:function(){return l}});var t=r(6308),i=r(2821),u=r(6959),s=(r(2791),r(3504)),a=r(3517),c=r(5379),o=r(184);function l(n){var e=n.children,r=(0,i.Z)(),l=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.Z,{color:"white",children:(0,o.jsx)(s.rU,{to:u.Z.home(),children:"Home"})}),(0,o.jsx)(a.Z,{color:"white",children:(0,o.jsxs)(s.rU,{to:u.Z.messages(),children:["Messages",r?(0,o.jsx)(t.Z,{children:r}):null]})}),(0,o.jsx)(a.Z,{color:"white",children:(0,o.jsx)(s.rU,{to:u.Z.settings(),children:"Settings"})})]});return(0,o.jsx)(c.Z,{sidebar:l,children:e})}},6308:function(n,e,r){r.d(e,{Z:function(){return i}});r(2791);var t=r(184);function i(n){var e=n.children;return(0,t.jsx)("span",{className:"badge",children:e})}},8835:function(n,e,r){r.d(e,{Z:function(){return i}});var t=r(3340);function i(){var n=(0,t.Q)().currentAuth;if(!n.user)throw new Error("User not loaded");return{user:n.user}}},2821:function(n,e,r){r.d(e,{Z:function(){return i}});var t=r(2739);function i(){var n=function(){var n=(0,t.N)().notifications;if(!n)throw new Error("Notifications not loaded");return{notifications:n}}();return n.notifications.reduce((function(n,e){return n+=e.messageCount}),0)}}}]);
//# sourceMappingURL=477.ddc3e056.chunk.js.map